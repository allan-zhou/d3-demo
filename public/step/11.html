<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>D3 demo</title>
    <!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
    <script src="../js/d3.js"></script>
</head>

<body>
    <h2> data Joins </h2>
    <ol>
        <li>i am a item!</li>
        <li>i am a item!</li>
        <li>i am a item!</li>
        <li>i am a item!</li>
        <li>i am a item!</li>
    </ol>
    <script type="text/javascript">
        var dataset = [1, 2, 3, 4, 5, 6, 7, 8, 9];
        // var dataset = [1, 2, 3];

        build(dataset);

        setTimeout(() => {
            var data = [11, 22, 33];
            build(data);
        }, 1000)

        function build(data) {
            var li = d3.select("ol")
                .selectAll("li")
                .data(data);

            li.enter().append('li').text((d, i) => {
                return 'i am a item.data:' + d;
            })

            li.html((d, i) => {
                return 'i am a item.data:' + d;
            })

            li.exit().remove();

            // each() Returns values from newly bound array
            d3.selectAll("li").each((d, i) => {
              console.log(d);  
            })
        }
    </script>
</body>

</html>