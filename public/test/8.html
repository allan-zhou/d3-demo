<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>D3 demo</title>
    <script src="../js/d3.js"></script>
    <style>
        .svg {
            border: 1px solid lightgrey;
        }
    </style>
</head>

<body>
    <svg id="svg" class="svg" width="300" height="300"></svg>
    <canvas id="canvas" width="300" height="300"></canvas>
    <p>hi</p>
    <p>hi</p>
    <p>
        <input id='checkbox' type="checkbox">
    </p>
    <script type="text/javascript">
        var data = [1, 1, 2, 3];
        var arcs = d3.pie()(data);
        console.log(arcs);


        var arc = d3.arc()
            .outerRadius(50)
            .innerRadius(25);
        console.log(arc(arcs[0]));
        //M-48.74639560909118,11.126046697815726A50,50,0,0,1,-39.09157412340149,
        //-31.17449009293667L-19.545787061700747,-15.587245046468334A25,25,0,0,0,
        //-24.37319780454559,5.563023348907863Z

        // d3.select('#svg')
        //     .append('g')
        //     .attr("transform", "translate(150,150)")
        //     .append('path')
        //     .attr('d', arc(arcs[0]))
        //     .style('stroke', 'red')
        //     .style('stroke-width', 2)

        d3.select('#svg')
            .append('g')
            .attr("transform", "translate(150,150)")
            .selectAll('path')
            .data(arcs)
            .enter()
            .append('path')
            // .attr('d', arc2)
            .attr('d', (d) => {
                return arc(d);
            })
            .style('fill', 'blue')
            .style('stroke', 'white')
            .style('stroke-width', 2)



        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        ctx.translate(150, 150);

        var arc = d3.arc()
            .outerRadius(50)
            .innerRadius(25)
            .context(ctx);

        arcs.forEach((d) => {
           ctx.beginPath();
           arc(d);
           ctx.fillStyle = 'blue';
           ctx.fill(); 
        });

        ctx.beginPath();
        arcs.forEach(arc);
        ctx.strokeStyle = '#fff';
        ctx.stroke();

        // arcs.forEach((d) => {
        //    ctx.beginPath();
        //    arc(d);
        //    ctx.strokeStyle = '#fff';
        //    ctx.stroke(); 
        // });

        ctx.beginPath();
        arcs.forEach(arc);
        ctx.strokeStyle = '#fff';
        ctx.stroke();



        // d3.select('body').style('background-color','lightblue');
        // d3.selectAll('p').attr('class','p').style('font-size','14px')
        // d3.select('#checkbox').property('checked',true);

    </script>
</body>

</html>